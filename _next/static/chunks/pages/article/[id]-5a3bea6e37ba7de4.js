(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{2913:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/[id]",function(){return n(5518)}])},6968:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(5893);function i(e){let{className:t=""}=e;return(0,l.jsxs)("svg",{width:"498",height:"498",viewBox:"0 0 498 498",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-spin ".concat(t),children:[(0,l.jsx)("path",{d:"M318.321 69.3218C341.917 78.4252 363.489 92.0869 381.804 109.527C400.12 126.967 414.822 147.844 425.069 170.966C435.317 194.088 440.91 219.001 441.529 244.285C442.149 269.568 437.782 294.726 428.679 318.321C419.575 341.917 405.913 363.489 388.473 381.805C371.033 400.121 350.156 414.822 327.035 425.07C303.913 435.317 278.999 440.91 253.716 441.53C228.432 442.149 203.275 437.782 179.679 428.679C156.083 419.575 134.512 405.914 116.196 388.474C97.8799 371.033 83.1784 350.157 72.9308 327.035C62.6831 303.913 57.09 278.999 56.4708 253.716C55.8515 228.433 60.2182 203.275 69.3216 179.679C78.425 156.084 92.0867 134.512 109.527 116.196C126.967 97.8801 147.844 83.1786 170.966 72.931C194.087 62.6834 219.001 57.0903 244.284 56.471C269.568 55.8517 294.725 60.2184 318.321 69.3218L318.321 69.3218Z",stroke:"#D9D9D9","stroke-width":"40"}),(0,l.jsx)("path",{d:"M318.321 69.3218C356.266 83.961 388.601 110.237 410.694 144.383C432.787 178.53 443.503 218.794 441.306 259.405C439.109 300.016 424.111 338.889 398.463 370.452C372.815 402.016 337.833 424.649 298.531 435.109",stroke:"url(#paint0_linear_117_2936)","stroke-width":"40","stroke-linecap":"round"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"paint0_linear_117_2936",x1:"209.734",y1:"440.274",x2:"345.256",y2:"79.3372",gradientUnits:"userSpaceOnUse",children:[(0,l.jsx)("stop",{"stop-color":"#00B2EE"}),(0,l.jsx)("stop",{offset:"0.5","stop-color":"#00BD8B"}),(0,l.jsx)("stop",{offset:"1","stop-color":"#71C72F"})]})})]})}n(7294)},8796:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(5893),i=n(8240);function r(e){let{children:t,className:n}=e;return(0,l.jsxs)("section",{className:"relative",children:[(0,l.jsx)("div",{className:"bg-gradient-to-r from-blue to-green w-full pt-6 mb-10 h-80 flex items-center ".concat(n),style:{borderBottomRightRadius:"70px"},children:t}),(0,l.jsx)("div",{className:"absolute ",style:{bottom:0,left:0,width:"200px",height:"200px"},children:(0,l.jsx)(i.Z,{className:"",src:"/logo-overlay.png",alt:"Ucas",fill:!0})})]})}},138:function(e,t,n){"use strict";n.d(t,{IH:function(){return s},Od:function(){return c},U2:function(){return u},Vx:function(){return a},fH:function(){return o}});var l=n(3247),i=n(8323),r=n(9751);let o=(0,l.hJ)(i.db,"articles"),s=async e=>{var t,n,r,s,a;e.createdAt=new Date,e.creator_uid=null===(t=i.I.currentUser)||void 0===t?void 0:t.uid,(null===(n=i.I.currentUser)||void 0===n?void 0:n.displayName)&&(e.creator_name=null===(r=i.I.currentUser)||void 0===r?void 0:r.displayName),(null===(s=i.I.currentUser)||void 0===s?void 0:s.photoURL)&&(e.creator_photoURL=null===(a=i.I.currentUser)||void 0===a?void 0:a.photoURL),delete e.image_binary,delete e.content;let c=await (0,l.ET)(o,e);return c.id},a=async e=>{e.updatedAt=new Date;let t=(0,l.JU)(o,e.uid);await (0,l.pl)(t,e,{merge:!0})},c=async e=>{let t=(0,l.JU)(o,e);await (0,l.oe)(t)},u=async e=>{let t=(0,l.JU)(o,e),n=await (0,l.QT)(t);if(!n.exists())return null;{var i,s;let a=(0,r.Q)(n);a.contentUrl&&(a.content=await d(a.contentUrl)),a.replLink&&a.replLink.includes("#")&&(a.replLink=a.replLink.split("#")[0]);let c=null===(i=a.replLink)||void 0===i?void 0:i.match(/^([https?:\/{2}]+?replit.com\/@.*\/.+)$/);return c&&c.length>1&&(null===(s=a.replLink)||void 0===s?void 0:s.includes("replit.com"))?a.replLink=c[1]:a.replLink=void 0,a}};async function d(e){return await (await fetch(e)).text()}},9751:function(e,t,n){"use strict";function l(e){let t=null,n=null;try{var l,i,r,o;t=null===(l=e.data())||void 0===l?void 0:null===(i=l.createdAt)||void 0===i?void 0:i.toDate(),n=null===(r=e.data())||void 0===r?void 0:null===(o=r.createdAt)||void 0===o?void 0:o.toDate()}catch(s){}return{uid:null==e?void 0:e.id,...null==e?void 0:e.data(),createdAt:t,updatedAt:n}}function i(e){if(!e)return null;let t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:null}n.d(t,{Q:function(){return l},q:function(){return i}})},5518:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var l=n(5893),i=n(9751),r=n(7294);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e}).apply(this,arguments)}var s=["html","dangerouslySetInnerHTML"],a=function(e){var t=e.html,n=function(e,t){if(null==e)return{};var n,l,i={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),l=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(!t||!l.current)throw Error("html prop cant't be null");var e=document.createRange().createContextualFragment(t);l.current.innerHTML="",l.current.appendChild(e)},[t,l]),r.createElement("div",o({},n,{ref:l}))},c=n(8240),u=n(138),d=n(1664),h=n.n(d),v=n(1163),m=n(175),f=n(8796),p=n(381),x=n.n(p),w=n(6968);function j(){var e;let{article:t,loading:n,router:o}=function(){var e,t,n;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(0,v.useRouter)(),o=null!==(n=l.id)&&void 0!==n?n:null==i?void 0:null===(e=i.query)||void 0===e?void 0:e.id,s=(0,m.a)(),[a,c]=(0,r.useState)(),[d,h]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(0,u.U2)(o).then(e=>{var t;let n=(null==s?void 0:null===(t=s.currentUser)||void 0===t?void 0:t.uid)===(null==e?void 0:e.creator_uid);c({...e,canEdit:n,canDelete:n}),h(!1)})},[l.id,null==i?void 0:null===(t=i.query)||void 0===t?void 0:t.id]),{article:a,loading:d,router:i}}();return(console.log(null==t?void 0:t.replLink),n)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Z,{className:"h-auto",children:(0,l.jsx)("div",{className:"flex flex-col justify-center items-center w-full pb-8 px-2",children:(0,l.jsx)("h1",{className:"text-4xl font-light text-white m-auto max-w-5xl text-center py-5",children:"Loading..."})})}),(0,l.jsx)("div",{className:"w-full h-screen flex items-top justify-center",children:(0,l.jsx)(w.Z,{className:"w-20 h-20 rounded-full my-2 shadow-lg object-cover"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Z,{className:"h-auto",children:(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center w-full pb-8 px-2",children:[(0,l.jsx)("h1",{className:"text-4xl font-light text-white m-auto max-w-5xl text-center py-5",children:null==t?void 0:t.title}),(0,l.jsx)(c.Z,{className:"w-20 h-20 rounded-full my-2 shadow-lg object-cover",src:null!==(e=null==t?void 0:t.creator_photoURL)&&void 0!==e?e:"https://www.slntechnologies.com/wp-content/uploads/2017/08/ef3-placeholder-image.jpg",alt:"Avatar",height:80,width:80}),(0,l.jsxs)("div",{className:"text-lg text-white text-center leading-none",children:[(0,l.jsxs)("p",{className:"p-1",children:[(0,l.jsx)("span",{className:"italic font-light pr-1",children:"By "}),(0,l.jsx)("span",{className:"font-semibold",children:null==t?void 0:t.creator_name})]}),(0,l.jsx)("p",{className:"italic font-light",children:(0,l.jsx)(l.Fragment,{children:(null==t?void 0:t.createdAt)&&x()(null==t?void 0:t.createdAt).format("LL")})})]}),(null==t?void 0:t.canEdit)&&(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("span",{onClick(){(0,u.Od)(t.uid).then(()=>{o.back()})},className:"text-red-600 mr-2 cursor-pointer",children:"Delete"}),(0,l.jsx)(h(),{href:"/article/edit/".concat(t.uid),className:"text-gray-800",children:"Edit"})]})]})}),(0,l.jsxs)("div",{className:"m-auto max-w-5xl px-2 sm:px-6 lg:px-8",children:[(0,l.jsx)("p",{className:"text-gray-500",children:null==t?void 0:t.shortDescription}),(0,l.jsx)("div",{className:"max-w-4xl m-auto",children:(0,l.jsx)("div",{className:"aspect-video max-w-6xl mx-auto my-4 relative",children:(null==t?void 0:t.thumbnail)&&(0,l.jsx)(c.Z,{src:null==t?void 0:t.thumbnail,alt:"Picture of the author",className:"rounded",style:{width:"100%"},fill:!0})})}),(null==t?void 0:t.content)&&(null==t?void 0:t.content)!=""&&(0,l.jsx)(a,{html:null==t?void 0:t.content,className:"my-4"}),(null==t?void 0:t.pdfUrl)&&(0,l.jsx)("iframe",{src:null==t?void 0:t.pdfUrl,className:"w-full h-screen"}),(null==t?void 0:t.replLink)&&(0,l.jsx)("iframe",{src:(null==t?void 0:t.replLink)+"?embed=true",className:"w-full h-screen print:hidden my-10"}),t&&(0,i.q)(null==t?void 0:t.youtubeLink)&&(0,l.jsx)("iframe",{className:"w-full aspect-video rounded-sm my-10 print:hidden",src:"https://www.youtube.com/embed/".concat((0,i.q)(null==t?void 0:t.youtubeLink)),allowFullScreen:!0}),t&&(0,i.q)(null==t?void 0:t.youtubeLink2)&&(0,l.jsx)("iframe",{className:"w-full aspect-video rounded-sm my-10 print:hidden",src:"https://www.youtube.com/embed/".concat((0,i.q)(null==t?void 0:t.youtubeLink2)),allowFullScreen:!0})]})]})}},1163:function(e,t,n){e.exports=n(880)}},function(e){e.O(0,[885,774,888,179],function(){return e(e.s=2913)}),_N_E=e.O()}]);